---
permalink: tenant/grid-federation-manage-cross-grid-replication.html 
sidebar: sidebar 
keywords: grid federation, cross-grid replication, use grid federation connection, replicate client delete markers, s3 bucket 
summary: f Ihrem Mandantenkonto wurde beim Erstellen die Berechtigung zum Verwenden der Grid-Federation-Verbindung zugewiesen. Sie können Objekte mithilfe der Grid-übergreifenden Replizierung automatisch zwischen Buckets im Mandanten-Quell-Grid und Buckets im Mandanten-Ziel-Grid replizieren. Die Grid-übergreifende Replizierung kann in eine oder beide Richtungen erfolgen. 
---
= Grid-übergreifende Replizierung managen
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Wenn Ihrem Mandantenkonto bei der Erstellung die Berechtigung *Grid Federation connection* verwenden zugewiesen wurde, können Sie mittels Grid-Replizierung automatisch Objekte zwischen Buckets im Quell-Grid des Mandanten und Buckets im Zielraster des Mandanten replizieren. Die Grid-übergreifende Replizierung kann in eine oder beide Richtungen erfolgen.



== Workflow für Grid-übergreifende Replizierung

Das Workflow-Diagramm fasst die Schritte zusammen, die Sie zum Konfigurieren der Cross-Grid-Replikation zwischen Buckets auf zwei Grids ausführen.  Diese Schritte werden unterhalb des Diagramms ausführlicher beschrieben.

image::../media/grid-federation-cgr-workflow.png[Workflow für Grid-übergreifende Replizierung]



== Konfiguration der Grid-übergreifenden Replizierung

Bevor Sie die Cross-Grid-Replikation verwenden können, müssen Sie sich bei den entsprechenden Mandantenkonten auf jedem Grid anmelden und zwei Buckets erstellen.  Anschließend können Sie die Cross-Grid-Replikation für einen oder beide Buckets aktivieren.

.Bevor Sie beginnen
* Sie haben die Anforderungen für die Cross-Grid-Replikation überprüft. Weitere Informationen finden Sie unter link:../admin/grid-federation-what-is-cross-grid-replication.html["Was ist Grid-übergreifende Replizierung"] .
* Sie verwenden einlink:../admin/web-browser-requirements.html["Unterstützter Webbrowser"] .
* Das Mandantenkonto verfügt über die Berechtigung *Grid-Föderationsverbindung verwenden* und auf beiden Grids sind identische Mandantenkonten vorhanden. Weitere Informationen finden Sie unter link:../admin/grid-federation-manage-tenants.html["Verwalten Sie die zulässigen Mandanten für die Grid Federation-Verbindung"] .
* Der Mandantenbenutzer, als der Sie sich anmelden, ist bereits in beiden Rastern vorhanden und gehört zu einer Benutzergruppe mit derlink:tenant-management-permissions.html["Root-Zugriffsberechtigung"] .
* Wenn Sie sich als lokaler Benutzer beim Zielraster des Mandanten anmelden, hat der Root-Benutzer für das Mandantenkonto ein Kennwort für Ihr Benutzerkonto in diesem Raster festgelegt.




=== Erstellen Sie zwei Buckets

Melden Sie sich als ersten Schritt bei den entsprechenden Mandantenkonten in jedem Raster an und erstellen Sie in jedem Raster einen Bucket.

.Schritte
. Erstellen Sie ausgehend von einem der beiden Raster in der Grid Federation-Verbindung einen neuen Bucket:
+
.. Melden Sie sich mit den Anmeldeinformationen eines Mandantenbenutzers an, der in beiden Grids vorhanden ist.
+
Wenn Sie sich nicht als lokaler Benutzer beim Zielraster des Mandanten anmelden können, vergewissern Sie sich, dass der Root-Benutzer des Mandantenkontos ein Kennwort für Ihr Benutzerkonto festgelegt hat.

.. Folgen Sie den Anweisungen zu link:creating-s3-bucket.html["Erstellen eines S3-Buckets"].
+

TIP: Die Bucket-Namen und Regionen können in jedem Raster unterschiedlich sein.

.. Wählen Sie auf der Registerkarte *Objekteinstellungen verwalten* *Objektversionierung aktivieren*.
.. Wenn S3 Object Lock für Ihr StorageGRID System aktiviert ist, lesen Sielink:../admin/grid-federation-what-is-cross-grid-replication.html#cgr-with-ol["Cross-Grid-Replikation mit S3 Object Lock"] .
.. Wählen Sie *Eimer erstellen*.
.. Wählen Sie *Fertig*.


. Wiederholen Sie diese Schritte, um einen Bucket für dasselbe Mandantenkonto im anderen Grid in der Grid-Föderationsverbindung zu erstellen.
+

TIP: Je nach Bedarf kann jeder Bucket einen anderen Bereich verwenden.





=== Grid-übergreifende Replizierung

Sie müssen diese Schritte ausführen, bevor Sie Objekte zu einem Bucket hinzufügen.

.Schritte
. Ausgehend von einem Raster, dessen Objekte Sie replizieren möchten, aktivieren Sielink:../admin/grid-federation-what-is-cross-grid-replication.html["Grid-übergreifende Replizierung in eine Richtung"]:
+
.. Melden Sie sich beim Mandantenkonto für den Bucket an.
.. Wählen Sie *View Buckets* aus dem Dashboard, oder wählen Sie *STORAGE (S3)* > *Buckets*.
.. Wählen Sie den Bucket-Namen aus der Tabelle aus, um auf die Seite mit den Bucket-Details zuzugreifen.
.. Wählen Sie die Registerkarte *Grid-Replikation* aus.
.. Wählen Sie *enable*, und überprüfen Sie die Liste der Anforderungen.
.. Wenn alle Anforderungen erfüllt sind, wählen Sie die zu verwendende Netzverbundverbindung aus.
.. Optional können Sie die Einstellung *Replicate delete Markers* ändern, um festzustellen, was im Zielraster passiert, wenn ein S3-Client eine Löschanforderung an das Quellraster ausgibt, das keine Versions-ID enthält:
+
*** *Ja* (Standard): Ein Löschmarker wird zum Quell-Bucket hinzugefügt und in den Ziel-Bucket repliziert.
*** *Nein*: Dem Quell-Bucket wird eine Löschmarkierung hinzugefügt, die jedoch nicht in den Ziel-Bucket repliziert wird.
+
image::../media/grid-federation-cross-grid-replication-client-deletes.png[Abbildung zeigt, wie der Replikate-Client auf beiden Rastern gelöscht wird]

+

NOTE: Wenn die Löschanforderung eine Versions-ID enthält, wird diese Objektversion dauerhaft aus dem Quell-Bucket entfernt.  StorageGRID repliziert keine Löschanforderungen, die eine Versions-ID enthalten, sodass dieselbe Objektversion nicht vom Ziel gelöscht wird.

+
Siehelink:../admin/grid-federation-what-is-cross-grid-replication.html["Was ist Grid-übergreifende Replizierung"] für Details.



.. Ändern Sie optional die Einstellung der Audit-Kategorie *Grid-übergreifende Replikation*, um das Volumen der Audit-Nachrichten zu verwalten:
+
*** *Error* (Standard): Nur fehlgeschlagene Cross-Grid-Replikationsanforderungen sind in der Audit-Ausgabe enthalten.
*** *Normal*: Alle Grid-übergreifenden Replikationsanfragen sind enthalten, was das Volumen der Audit-Ausgabe erheblich erhöht.


.. Überprüfen Sie Ihre Auswahl. Sie können diese Einstellungen nur ändern, wenn beide Buckets leer sind.
.. Wählen Sie *Enable und Test*.
+
Nach einigen Augenblicken erscheint eine Erfolgsmeldung.  Zu diesem Bucket hinzugefügte Objekte werden jetzt automatisch in das andere Raster repliziert.  *Cross-Grid-Replikation* wird auf der Bucket-Detailseite als aktivierte Funktion angezeigt.



. Gehen Sie optional zum entsprechenden Bucket auf dem anderen Grid und link:../admin/grid-federation-what-is-cross-grid-replication.html["Aktivieren Sie die Grid-übergreifende Replizierung in beide Richtungen"].




== Testen Sie die Replikation zwischen Grids

Wenn die Grid-übergreifende Replizierung für einen Bucket aktiviert ist, müssen Sie möglicherweise überprüfen, ob die Verbindung und die Grid-übergreifende Replizierung ordnungsgemäß funktionieren und dass die Quell- und Ziel-Buckets nach wie vor alle Anforderungen erfüllen (beispielsweise ist die Versionierung weiterhin aktiviert).

.Bevor Sie beginnen
* Sie verwenden einlink:../admin/web-browser-requirements.html["Unterstützter Webbrowser"] .
* Sie gehören zu einer Benutzergruppe mit dem link:tenant-management-permissions.html["Root-Zugriffsberechtigung"].


.Schritte
. Melden Sie sich beim Mandantenkonto für den Bucket an.
. Wählen Sie *View Buckets* aus dem Dashboard, oder wählen Sie *STORAGE (S3)* > *Buckets*.
. Wählen Sie den Bucket-Namen aus der Tabelle aus, um auf die Seite mit den Bucket-Details zuzugreifen.
. Wählen Sie die Registerkarte *Grid-Replikation* aus.
. Wählen Sie *Verbindung testen*.
+
Wenn die Verbindung in Ordnung ist, wird ein Erfolgsbanner angezeigt.  Andernfalls wird eine Fehlermeldung angezeigt, die Sie und der Grid-Administrator zur Lösung des Problems verwenden können. Weitere Einzelheiten finden Sie unterlink:../admin/grid-federation-troubleshoot.html["Fehler beim Grid-Verbund beheben"] .

. Wenn die Grid-übergreifende Replikation in beide Richtungen konfiguriert ist, gehen Sie zum entsprechenden Bucket auf dem anderen Grid und wählen Sie *Verbindung testen* aus, um zu überprüfen, ob die Grid-übergreifende Replikation in die andere Richtung funktioniert.




== Deaktivieren Sie die Grid-übergreifende Replizierung

Sie können die Grid-übergreifende Replikation dauerhaft beenden, wenn Sie keine Objekte mehr in das andere Raster kopieren möchten.

Beachten Sie vor dem Deaktivieren der Grid-übergreifenden Replikation Folgendes:

* Durch das Deaktivieren der Cross-Grid-Replikation werden keine Objekte entfernt, die bereits zwischen Grids kopiert wurden.  Beispielsweise können Objekte in `my-bucket` auf Grid 1, die kopiert wurden nach `my-bucket` auf Grid 2 werden nicht entfernt, wenn Sie die Cross-Grid-Replikation für diesen Bucket deaktivieren.  Wenn Sie diese Objekte löschen möchten, müssen Sie sie manuell entfernen.
* Wenn die Grid-übergreifende Replizierung für jeden Buckets aktiviert wurde (d. h. wenn die Replikation in beide Richtungen erfolgt), können Sie die Grid-übergreifende Replizierung für einen oder beide Buckets deaktivieren. So können Sie beispielsweise die Replikation von Objekten von in Raster 1 nach in `my-bucket` Raster 2 deaktivieren `my-bucket`, während Sie weiterhin Objekte von in Raster 2 nach in Raster `my-bucket` 1 replizieren `my-bucket`.
* Sie müssen die Cross-Grid-Replikation deaktivieren, bevor Sie einem Mandanten die Berechtigung zur Verwendung der Grid-Föderationsverbindung entziehen können. Weitere Informationen finden Sie unter link:../admin/grid-federation-manage-tenants.html["Management zulässiger Mandanten"] .
* Wenn Sie die Cross-Grid-Replikation für einen Bucket deaktivieren, der Objekte enthält, können Sie die Cross-Grid-Replikation nicht wieder aktivieren, es sei denn, Sie löschen alle Objekte sowohl aus dem Quell- als auch aus dem Ziel-Bucket.
+

CAUTION: Die Replikation kann nur dann wieder aktiviert werden, wenn beide Buckets leer sind.



.Bevor Sie beginnen
* Sie verwenden einlink:../admin/web-browser-requirements.html["Unterstützter Webbrowser"] .
* Sie gehören zu einer Benutzergruppe mit dem link:tenant-management-permissions.html["Root-Zugriffsberechtigung"].


.Schritte
. Beenden Sie die Grid-Replizierung für den Bucket, beginnend mit dem Grid, dessen Objekte Sie nicht mehr replizieren möchten:
+
.. Melden Sie sich beim Mandantenkonto für den Bucket an.
.. Wählen Sie *View Buckets* aus dem Dashboard, oder wählen Sie *STORAGE (S3)* > *Buckets*.
.. Wählen Sie den Bucket-Namen aus der Tabelle aus, um auf die Seite mit den Bucket-Details zuzugreifen.
.. Wählen Sie die Registerkarte *Grid-Replikation* aus.
.. Wählen Sie *Replikation deaktivieren*.
.. Wenn Sie sicher sind, dass Sie die Cross-Grid-Replikation für diesen Bucket deaktivieren möchten, geben Sie *Ja* in das Textfeld ein und wählen Sie *Deaktivieren* aus.
+
Nach einigen Augenblicken wird eine Erfolgsmeldung angezeigt. Neue Objekte, die diesem Bucket hinzugefügt wurden, können nicht mehr automatisch in das andere Grid repliziert werden. *Grid-übergreifende Replikation* wird nicht mehr als aktivierte Funktion auf der Buckets-Seite angezeigt.



. Wenn die Grid-übergreifende Replizierung für beide Richtungen konfiguriert wurde, wechseln Sie zum entsprechenden Bucket auf dem anderen Grid und beenden Sie die Grid-übergreifende Replizierung in die andere Richtung.

